{% extends 'base.html' %}

{% block title %} Import playlists | {% endblock %}

{% block view_title %}
    Import Spotify Playlists
{% endblock %}

{% block content %}
<center>
    <input class="form-control" placeholder="Search spotify playlists...">
    <br/>
    <ul class="list-group">
        {% for p in spotify_playlists %}
        <li class="list-group-item list-group-item-action">
            <div class="media media-sm mb-0">
              <div class="media-sm-wrapper">
                <img src="{{p.thumbnail}}" alt="{{p.name}}" height="100%"></img>
              </div>
              <div class="media-body">
                <span class="title">{{ p.name }}</span>
                <p>Spotify Playlist</p>
              </div>
              <div class="custom-control custom-checkbox align-self-center">
                <form action="{% url 'recommender:import_spotify_playlist' playlist_id=p.uri %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {% if p.disabled %}
                    <button type="submit" disabled class="btn btn-secondary" style="width: 350px;">Import</button>
                    {% else %}
                    <button type="submit" class="btn btn-secondary" style="width: 350px;">Import</button>
                    {% endif %}
                </form>
              </div>
            </div>
          </li>
    {% endfor %} 
      </ul>
      <br/>
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <!-- <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true" class="mdi mdi-chevron-left"></span>
              <span class="sr-only">Previous</span>
            </a>
          </li> -->
          {% for i in total_pages  %}
          {% if i == page  %}
            <li class="page-item active">
                <a class="page-link" href="{% url 'recommender:import_spotify'  %}?page={{ i }}">{{ i }}</a>
            </li>
            {% else %}
            <li class="page-item">
                <a class="page-link" href="{% url 'recommender:import_spotify'  %}?page={{ i }}">{{ i }}</a>
            </li>
          {% endif %}
          {% endfor %}
          <!-- <li class="page-item">
            <a class="page-link" href="{% url 'recommender:import_spotify' %}" aria-label="Next">
              <span aria-hidden="true" class="mdi mdi-chevron-right"></span>
              <span class="sr-only">Next</span>
            </a>
          </li> -->
        </ul>
      </nav>
      <br/>
</center>
{% endblock %}